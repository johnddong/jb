<!DOCTYPE html>
<html lang="zh-Hant">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<meta name="format-detection" content="telephone=no"/>
	<title>jollybuy - 會員資訊</title>
	<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
	<link href="css/bootstrap-datepicker3.min.css" rel="stylesheet">
	<link href="css/owl.carousel.min.css" rel="stylesheet" type="text/css">
	<link href="css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<link href="css/flaticon.min.css" rel="stylesheet" type="text/css">
	<link href="css/animate.min.css" rel="stylesheet">
	<link href="css/jquery.scrollbar.min.css" rel="stylesheet">
	<link href="css/chosen.min.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">
	<link href="css/theme-1.css" rel="stylesheet">
	<link href="css/jollybuy.css" rel="stylesheet">
	<script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
</head>
<body id="member">
	<!-- header -->
	<header id="type05">
		<div class="header05">
			<div class="container">
				<div class="row">
					<div class="col-sm-2 logo">
						<a href="https://www.jollybuy.com/beango/IndexNew">
							<img src="images/header/type05/logo.png" alt="有閑">
						</a>
					</div>
					<div id="menu-list" class="col-sm-10">
						<ul>
							<li class="shop"><a href="https://dev-admin.jollybuy.com/">我的店舖</a></li>
							<li class="dollar"><a href="https://dev-admin.jollybuy.com/">賺導購金</a></li>
							<li class="member"><a href="http://dev-www.jollybuy.com/act/construction.html">購物會員</a></li>
							<!-- <li class="cart"><a href="javascript:void(0);">購物車</a></li> -->
						</ul>
					</div>
				</div>
			</div>
		</div>
	</header>
	<!--/ header -->
	<div class="main-content checkout-page">
		<div class="container">
			<div class="breadcrumbs">
				<a href="#">Home</a> / <span class="current">會員資訊</span>
			</div>
			<div class="cart-content">
				<!-- 表單 -->
					<div class="orther-info">
						<div class="row">
							<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 clo-left">
								<form name="member" action="" method="post">
									<!-- 會員姓名/Email/訂閱 -->
									<div class="customer-info">
										<h3 class="title supper-title">會員資訊</h3>
										<h5 class="text-label">姓名<span></span></h5>
										<input type="text" name="buyer_name" class="input-info" placeholder="請填寫真實中文姓名">
										<h5 class="text-label">暱稱<span></span></h5>
										<input type="text" name="buyer_nickname" class="input-info" placeholder="請填寫暱稱">
										<h5 class="text-label">E-mail<span></span></h5>
										<input type="text" name="buyer_email" class="input-info" placeholder="請填寫有效E-mail">
										<h5 class="text-label">手機號碼<span></span></h5>
										<input type="text" name="buyer_mobile" class="input-info" placeholder="請填寫手機號碼">
										<h5 class="text-label">生日<span></span></h5>
										<div id="datepicker" class="input-group date">
											<input id="buyer_birthday" type="text" name="buyer_birthday" class="form-control buyer-birthday" value="" placeholder="請選擇生日" data-date-end-date="0d"/>
											<div class="input-group-addon">
												<i class="fa fa-calendar" aria-hidden="true"></i>
											</div>
										</div>
										<h5 class="text-label">聯絡地址<span></span></h5>
										<!-- 會員地址 -->
										<div class="twzipcode">
											<div class="address">
												<div class="shipping">
													<select name="buyer-country" class="buyer-country">
														<option value="" data-type="tw">台灣</option>
														<option value="" data-type="other">其他</option>
													</select>
													<i class="fa fa-angle-down" aria-hidden="true"></i>
												</div>
											</div>
											<div class="address">
												<div data-role="county" data-name="buyer_county" data-style="buyer-county"></div>
												<i class="fa fa-angle-down" aria-hidden="true"></i>
											</div>
											<div class="address">
												<div data-role="district" data-name="buyer_area" data-style="buyer-area"></div>
												<i class="fa fa-angle-down" aria-hidden="true"></i>
											</div>
											<div data-role="zipcode" data-name="buyer_zipcode" data-style="buyer-zipcode"></div>
											<input class="input-info buyer-address" name="buyer_address" type="text" value="" placeholder="聯絡地址" />
										</div>
										<!--/ 會員地址 -->
									</div>
									<!--/ 會員姓名/Email/訂閱 -->
									<!-- 取消/送出按鈕 -->
									<div class="note">
										<!-- 已與Facebook連結 -->
										<div class="fb-connected">
											<h5>快速登入</h5>
											<img src="images/temp/avatar.gif" alt="">
											<span>
												<i class="fa fa-facebook-official fa-2x" aria-hidden="true"></i> 已與Facebook連結
											</span>
										</div>
										<!--/ 已與Facebook連結 -->
											<!-- <button type="button" class="btns">取消</button> -->
											<div class="btn-wrapper">
												<button type="submit" class="btns">儲存變更</button>
											</div>
									</div>
									<!--/ 取消/送出按鈕 -->
								</form>
								<!--/ 表單 -->
								<!-- 會員電話/地址/密碼/FB -->
								<div class="receiving-address shipping-method note">
									<!-- <div class="receiver-phone">
									<h3 class="title supper-title">儲存的電話號碼</h3>
									<a class="submit btn-phone" href="javascript:void(0);">新增電話號碼</a>&nbsp;<span class="phone-error"></span>
								</div> -->
								<div id="address-section">
									<h3 class="title supper-title">送貨地址</h3>
									<div class="btn-wrapper">
										<a class="btns btn-address" href="javascript:void(0);">新增送貨地址</a>&nbsp;<span class="address-error"></span>
									</div>
									<div class="saved-receiver-address">
										<div class="item">
											<div class="mini-address-box table">
												<div class="tr">
													<div class="td">
														<div class="receiver-default-box">
															<!-- label for="" 和 input 的 id="" 要帶相同的值，且不能和其他的 input 重複-->
															<label class="radio-cont" for="receiver-default000">預設
																<input type="radio" id="receiver-default000" name="receiver_default[]" value="1">
																<span class="checkmark"></span>
															</label>
														</div>
													</div>
													<div class="td receiver-info">
														<div>
															<span class="name">Jack</span>
															<div class="mobile">0987654321</div>
														</div>
														<div class="old_address">
															<span class="county">臺北市</span>
															<span class="zipcode">內湖區</span>
															<span class="street">瑞光路258巷35號9樓258巷35號9樓瑞光路258巷35號9樓258巷35號9樓瑞光路258巷35號9樓258巷35號9樓</span>
														</div>
													</div>
													<div class="td btn-box">
														<a href="javascript:void(0);" class="btn-open-address">
															<i class="fa fa-pencil fa-lg" aria-hidden="true"></i>
														</a>
														<a href="javascript:void(0);" class="btn-delete">
															<i class="fa fa-trash fa-lg" aria-hidden="true"></i>
														</a>
													</div>
												</div>
											</div>
											<div class="modify-address-box"></div>
										</div>
										<div class="item">
											<div class="mini-address-box table">
												<div class="tr">
													<div class="td">
														<div class="receiver-default-box">
															<!-- label for="" 和 input 的 id="" 要帶相同的值，且不能和其他的 input 重複-->
															<label class="radio-cont" for="receiver-default001">預設
																<input type="radio" id="receiver-default001" name="receiver_default[]" value="1">
																<span class="checkmark"></span>
															</label>
														</div>
													</div>
													<div class="td receiver-info">
														<div>
															<span class="name">Jack</span>
															<div class="mobile">0987654321</div>
														</div>
														<div class="old_address">
															<span class="county">臺北市</span>
															<span class="zipcode">內湖區</span>
															<span class="street">瑞光路258巷35號9樓258巷35號9樓</span>
														</div>
													</div>
													<div class="td btn-box">
														<a href="javascript:void(0);" class="btn-open-address">
															<i class="fa fa-pencil fa-lg" aria-hidden="true"></i>
														</a>
														<a href="javascript:void(0);" class="btn-delete">
															<i class="fa fa-trash fa-lg" aria-hidden="true"></i>
														</a>
													</div>
												</div>
											</div>
											<div class="modify-address-box"></div>
										</div>
									</div>
								</div>
							</div>
							<!--/ 會員電話/地址/密碼/FB -->
							</div>
							<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
								<!-- 送貨門市 -->
								<h3 class="title supper-title">送貨門市</h3>
								<div id='seven_store' class="receiving-store shipping-method note">
									<div class="btn-wrapper">
										<a id='btn-seven' class="btns btn-add-store" href="javascript:void(0);">新增7-11送貨門市</a><span class="address-error"></span>
									</div>
									<div class="item">
										<div class="mini-address-box table">
											<div class="tr">
												<div class="td">
													<div class="receiver-default-box">
														<!-- label for="" 和 input 的 id="" 要帶相同的值，且不能和其他的 input 重複-->
														<label class="radio-cont" for="seven-default000">預設
															<input type="radio" id="seven-default000" name="seven_store_default[]" value="1">
															<span class="checkmark"></span>
														</label>
													</div>
												</div>
												<div class="td receiver-info">
													<div>
														<span class="name">Jack</span>
														<div class="mobile">0987654321</div>
													</div>
													<div class="old_store">內湖門市</div>
												</div>
												<div class="td btn-box">
													<a href="javascript:void(0);" class="btn-modify">
														<i class="fa fa-pencil fa-lg" aria-hidden="true"></i>
													</a>
													<a href="javascript:void(0);" class="btn-delete">
														<i class="fa fa-trash fa-lg" aria-hidden="true"></i>
													</a>
												</div>
											</div>
										</div>
										<div class="modify-store-box">
											<div class="store-address">
												<i class="fa fa-times btn-delete" aria-hidden="true" title="移除" style="float: right;"></i>
												<form class="seven-store-info" name="store-info01" action="" method="post">
													<h5 class="text-label">收件人姓名<span></span></h5>
													<input type="text" name="receiver_name[]" class="input-info receiver-name" placeholder="請填寫真實姓名" value="Jack">
													<h5 class="text-label">收件人連絡電話<span></span></h5>
													<input type="text" name="receiver_mobile[]" class="input-info receiver-mobile" placeholder="請填寫連絡電話" value="0987654321">
													<!-- 門市名稱&地址 -->
													<div class="store">
														<div class="row">
															<div class="col-xs-7 col-sm-">
																<input type="text" name="store_name" class="input-info" placeholder="門市名稱" readonly="" value="內湖門市">
																<input type="text" name="store_address" class="input-info" placeholder="門市地址" readonly="" value="台北市內湖區瑞光街196號">
															</div>
															<div class="col-xs-5">
																<span class="icon-store icon-seven"></span>
															</div>
														</div>
														<div class="btn-wrapper">
															<span class="btns btn-store">搜尋門市</span>
															<button type="submit" class="btns btn-submit">儲存變更</button>
														</div>
													</div>
												</form>
											</div>
											<!--/ 門市名稱&地址 -->
										</div>
									</div>
								</div>
								<div id='family_store' class="receiving-store shipping-method note">
									<div class="btn-wrapper">
										<a id='btn-family' class="btns btn-add-store" href="javascript:void(0);">新增全家送貨門市</a><span class="address-error"></span>
									</div>
									<div class="item">
										<div class="mini-address-box table">
											<div class="tr">
												<div class="td">
													<div class="receiver-default-box">
														<!-- label for="" 和 input 的 id="" 要帶相同的值，且不能和其他的 input 重複-->
														<label class="radio-cont" for="family-default000">預設
															<input type="radio" id="family-default000" name="family_store_default[]" value="1">
															<span class="checkmark"></span>
														</label>
													</div>
												</div>
												<div class="td receiver-info">
													<div>
														<span class="name">Frank</span>
														<div class="mobile">0987654321</div>
													</div>
													<div class="old_store">文德門市</div>
												</div>
												<div class="td btn-box">
													<a href="javascript:void(0);" class="btn-modify">
														<i class="fa fa-pencil fa-lg" aria-hidden="true"></i>
													</a>
													<a href="javascript:void(0);" class="btn-delete">
														<i class="fa fa-trash fa-lg" aria-hidden="true"></i>
													</a>
												</div>
											</div>
										</div>
										<div class="modify-store-box">
											<div class="store-address">
												<i class="fa fa-times btn-delete" aria-hidden="true" title="移除" style="float: right;"></i>
												<form class="family-store-info" name="store-info02" action="" method="post">
													<h5 class="text-label">收件人姓名<span></span></h5>
													<input type="text" name="receiver_name[]" class="input-info receiver-name" placeholder="請填寫真實姓名" value="Frank">
													<h5 class="text-label">收件人連絡電話<span></span></h5>
													<input type="text" name="receiver_mobile[]" class="input-info receiver-mobile" placeholder="請填寫連絡電話" value="0987654321">
													<!-- 門市名稱&地址 -->
													<div class="store">
														<div class="row">
															<div class="col-xs-7 col-sm-">
																<input type="text" name="store_name" class="input-info" placeholder="門市名稱" readonly="" value="文德門市">
																<input type="text" name="store_address" class="input-info" placeholder="門市地址" readonly="" value="台北市內湖區文德路90巷49號">
															</div>
															<div class="col-xs-5">
																<span class="icon-store icon-fm"></span>
															</div>
														</div>
														<div class="btn-wrapper">
															<span class="btns btn-store">搜尋門市</span>
															<button type="submit" class="btns btn-submit">儲存變更</button>
														</div>
													</div>
												</form>
											</div>
											<!--/ 門市名稱&地址 -->
										</div>
									</div>
								</div>
							<!--/ 送貨門市 -->
							</div>
						</div>
					</div>

				<script type="text/javascript">
				$(function() {
					//新增門市
					var
					$receivingStore = $('.receiving-store'),
					count = 0,
					store_tpl =
					'<div class="item">'+
						'<div class="store-address">'+
							'<i class="fa fa-times btn-delete" aria-hidden="true" title="移除" style="float: right;"></i>'+
							'<form name="" action="" method="post">'+
									'<div class="receiver-default-box">'+
										'<label class="radio-cont" for="store-default0002">預設'+
											'<input type="radio" id="store-default0002" name="" value="1">'+
											'<span class="checkmark"></span>'+
										'</label>'+
									'</div>'+
									'<h5 class="text-label">收件人姓名 <span></span></h5>'+
									'<input type="text" name="receiver_name[]" class="input-info receiver-name" placeholder="請填寫真實姓名" value="">'+
									'<h5 class="text-label">收件人連絡電話<span></span></h5>'+
									'<input type="text" name="receiver_mobile[]" class="input-info receiver-mobile" placeholder="請填寫連絡電話" value="">'+
									'<div class="store">'+
										'<div class="row">'+
											'<div class="col-xs-7 col-sm-">'+
												'<input type="text" name="store_name" class="input-info" placeholder="門市名稱" readonly="">'+
												'<input type="text" name="store_address" class="input-info" placeholder="門市地址" readonly="">'+
											'</div>'+
											'<div class="col-xs-5">'+
												'<span class="icon-store"></span>'+
													'</div>'+
												'</div>'+
												'<div class="btn-wrapper">'+
													'<span class="btns btn-store">搜尋門市</span>'+
													'<button type="submit" class="btns btn-submit">儲存新增</button>'+
												'</div>'+
											'</div>'+
										'</form>'+
									'</div>'+
								'</div>',
								store_validate= function(count){
									$('form[name="store-info'+count+'"]').validate({
										event: 'keyup',
										ignore: '',
										errorClass: 'invalid',
										rules: {
											'receiver_name[]': {
												required: true
											},
											'receiver_mobile[]': {
												required: true,
												minlength: 6,
												number: true
											}
										},
										errorPlacement: function(error, el) {
											var $error;
											if (el.prop('tagName') == 'SELECT') {
												$error = el.parents('.twzipcode').prev().find('span');
											} else {
												$error = el.prev().find('span');
											}
											$error.empty().append(error.text());
										},
										success: function(label, element) {
										}
									});
								};
					$receivingStore.find('.btn-modify').on('click',function(){
						var $this = $(this),
								item = $this.parents('.item'),
								form = item.find('form');
						item.find('.modify-store-box').toggle();
						form.attr('name','store-info'+count);
						store_validate(count);
						count++;
					});
					$receivingStore.on('click','.btn-delete', function(){
			      $(this).parents('.item').eq(0).remove();
			    });
					$receivingStore.find('.btn-add-store').on('click',function(){
						var $this = $(this),
								id = $this.attr('id'),
								set_tpl = function(_this,boxId){
									var
									$sevenStoreBox = _this.parents('#'+boxId),
									radioName;
									$sevenStoreBox.append(store_tpl);
									var items = $sevenStoreBox.find('.item'),
											target = $(items[items.length-1]),
											form = target.find('form');
									target.find('input[type="radio"]').attr('name',boxId+'_default[]');
									form.attr('name','store-info'+count);
									store_validate(count);
									count++;
									if(boxId == 'seven_store'){
										target.find('.icon-store').addClass('icon-seven');
									}else if(boxId == 'family_store'){
										target.find('.icon-store').addClass('icon-fm');
									}
								};
						if(id=='btn-seven'){
							set_tpl($(this),'seven_store');
						}else if(id=='btn-family'){
							set_tpl($(this),'family_store');
						}
					});
					//member birthday 生日
					$('#datepicker').datepicker({
						format: 'yyyy/mm/dd',
						todayHighlight: true,
						autoclose: true,
						endDate:'today'
					});

					//member address
					/*狀態一:有預設地址*/
					$('#member').twzipcode({
						'zipcodeSel'  : '106', //郵遞區號
					    'countySel'   : '臺北市', //縣市
					    'districtSel' : '大安區' //鄉鎮市
					});

					/*狀態二:沒有預設地址*/
					 // $('#member').twzipcode();

				 // validate
					$('form[name="member"]').validate({
						event: 'keyup',
						ignore: '',
						errorClass: 'invalid',
						rules: {
							buyer_name: {
								required: true
							},
							buyer_nickname: {
								required: true
							},
							buyer_email: {
								required: true,
								email: true
							},
							buyer_mobile: {
								required: true,
								number: true
							},
							buyer_birthday:{
								required: true
							},
							// 'buyer_mobile[]': {
							// 	required: true,
							// 	minlength: 6,
							// 	number: true
							// },
							// 'receiver_name[]': {
							// 	required: true
							// },
							// 'receiver_mobile[]': {
							// 	required: true,
							// 	minlength: 6,
							// 	number: true
							// },
							// 'receiver_county[]': {
							// 	required: true
							// },
							// 'receiver_area[]': {
							// 	required: true
							// },
							// 'receiver_address[]': {
							// 	required: true
							// },
							buyer_address:{
								required: true
							},
							receiver_county: {
								required: true
							},
							receiver_area: {
								required: true
							},
							receiver_address: {
								required: true
							}
						},
						errorPlacement: function(error, el) {
							var $error;
							if (el.prop('tagName') == 'SELECT') {
								$error = el.parents('.twzipcode').prev().find('span');
							}else if(el.attr('id')=='buyer_birthday'){
								$error = el.parents('#datepicker').prev().find('span');
							} else {
								$error = el.prev().find('span');
							}
							$error.empty().append(error.text());
						},
						success: function(label, element) {
						},
						submitHandler: function(form) {
							// submit via ajax
							Member.update($(form).serialize());
						}
					});

					// validate
					 // $('form[name="shipping-info"]').validate({
						//  event: 'keyup',
						//  ignore: '',
						//  errorClass: 'invalid',
						//  rules: {
						// 	 'buyer_mobile[]': {
						// 		 required: true,
						// 		 minlength: 6,
						// 		 number: true
						// 	 },
						// 	 'receiver_name[]': {
						// 		 required: true
						// 	 },
						// 	 'receiver_mobile[]': {
						// 		 required: true,
						// 		 minlength: 6,
						// 		 number: true
						// 	 },
						// 	 'receiver_county[]': {
						// 		 required: true
						// 	 },
						// 	 'receiver_area[]': {
						// 		 required: true
						// 	 },
						// 	 'receiver_address[]': {
						// 		 required: true
						// 	 }
						//  },
						//  errorPlacement: function(error, el) {
						// 	 var $error;
						// 	 if (el.prop('tagName') == 'SELECT') {
						// 		 $error = el.parents('.twzipcode').prev().find('span');
						// 	 } else {
						// 		 $error = el.prev().find('span');
						// 	 }
						// 	 $error.empty().append(error.text());
						//  },
						//  success: function(label, element) {
						//  },
						//  submitHandler: function(form) {
						// 	 // submit via ajax
						// 	 Member.update($(form).serialize());
						//  }
					 // });
				});
				</script>
			</div>
		</div>
	</div>
	<footer class="leisure merge">
		<div class="fixed-footer">
			<ul>
				<li class="goback"><a href="https://dev-www.jollybuy.com/Beango/IndexNew">回首頁</a></li>
				<li class="dollar"><a href="https://dev-admin.jollybuy.com/">賺導購金</a></li>
				<li class="shop"><a href="https://dev-admin.jollybuy.com/">我的店舖</a></li>
				<li class="member"><a href="http://dev-www.jollybuy.com/act/construction.html">購物會員</a></li>
				<!-- <li class="cart"><a href="javascript:void(0);">購物車</a></li> -->
			</ul>
		</div>
		<div class="footer">
			<ul>
				<li><a href="http://dev-www.jollybuy.com/act/mb-about.html">關於有閑</a></li>
				<li><a href="http://dev-www.jollybuy.com/act/mb-privacy.html">隱私權政策</a></li>
				<li><a href="http://dev-www.jollybuy.com/act/mb-Terms.html">有閑條款</a></li>
				<li><a href="mailto:Jollybuy_cs@jollywiz.com">聯絡我們</a></li>
			</ul>
			<div class="copy-right">© 2018 Jollywiz Limited</div>
		</div>
	</footer>
	<a class="back-to-top" href="#"></a>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/bootstrap-datepicker.min.js"></script>
  <script type="text/javascript" src="js/bootstrap-notify.min.js"></script>
  <script type="text/javascript" src="js/owl.carousel.min.js"></script>
	<!-- <script type="text/javascript" src="js/owl.thumbs.min.js"></script>
  <script type="text/javascript" src="js/magnific-popup.min.js"></script> -->
	<script type="text/javascript" src="js/mobilemenu.min.js"></script>
  <!-- <script type="text/javascript" src="js/imagesloaded.pkgd.min.js"></script>
  <script type="text/javascript" src="js/isotope.pkgd.min.js"></script>
  <script type="text/javascript" src="js/masonry.min.js"></script> -->
	<script type="text/javascript" src="js/chosen.min.js"></script>
  <script type="text/javascript" src="js/jquery.scrollbar.min.js"></script>
	<script type="text/javascript" src="js/jquery.validate.min.js"></script>
	<script type="text/javascript" src="js/localization/messages_zh_TW.min.js"></script>
	<script type="text/javascript" src="js/twzipcode/jquery.twzipcode.min.js"></script>
  <script type="text/javascript" src="js/frontend.js"></script>
  <script type="text/javascript" src="js/member.js"></script>
	<script type="text/javascript" src="js/jollybuy.js"></script>
	<!-- <script type="text/javascript" src="js/member-set-store.js"></script> -->
</body>
</html>
